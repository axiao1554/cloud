$(".highlight").not(".gist .highlight").each(function(b,c){var a=$("<div>").addClass("highlight-wrap");$(c).after(a);a.append($("<button>").addClass("copy-btn").append("复制").on("click",function(k){var j=$(this).parent().find(".code").find(".line").map(function(l,m){return $(m).text()}).toArray().join("\n");var f=document.createElement("textarea");var i=window.pageYOffset||document.documentElement.scrollTop;f.style.top=i+"px";f.style.position="absolute";f.style.opacity="0";f.readOnly=true;f.value=j;document.body.appendChild(f);const h=document.getSelection();const g=h.rangeCount>0?h.getRangeAt(0):false;f.select();f.setSelectionRange(0,j.length);f.readOnly=false;var d=document.execCommand("copy");if(d){$(this).text("复制成功")}else{$(this).text("复制失败")}f.blur();$(this).blur();if(g){h.removeAllRanges();h.addRange(g)}})).on("mouseleave",function(f){var d=$(this).find(".copy-btn");setTimeout(function(){d.text("复制")},300)}).append(c)});